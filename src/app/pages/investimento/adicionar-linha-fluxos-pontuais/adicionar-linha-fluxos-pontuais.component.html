<div class="modal" [class.active]="modalOpen">
	<div class="modal__bg" (click)="voltar()"></div>
	<div class="modal__inner" style="max-width: 600px;">
		<div class="modal__content">
			<div class="modal__header">
				<h3 class="text-orange">Adicionar fluxo pontual</h3>
				<a (click)="voltar()" class="modal__header-close btn-close">
					<span></span>
					<span></span>
				</a>
			</div>
			<div class="modal__body">
				<form #form="ngForm" (ngSubmit)="send(form)">
					
					<div class="form-row">
						<div class="form-group col-lg-6 col-md-6 col-sm-12 col-12">
							<label for="idade">Idade: </label>
							<input class="form-control" name="idade" id="idade" #idade="ngModel"
								[(ngModel)]="objeto.idade" placeholder="0" mask="0*"
								(keyup.arrowup)="objeto.idade = arrowUp(idade.value)" 
								(keyup.arrowdown)="objeto.idade = arrowDown(idade.value, true)"
								required popoverClass="popover-danger"
								[ngbPopover]="campoObrigatorio" triggers="mouseenter:mouseleave" >
						
                                <div *ngIf="idade.touched && idade.errors">
                                    <p *ngIf="idade.errors['required']" class="text-danger">Esse campo é obrigatório</p>
                                    <p *ngIf="idade.errors['mask']" class="text-danger">Valor inválido</p>
                                </div>
						</div>
						<div class="form-group col-lg-6 col-md-6 col-sm-12 col-12">
							<label for="montante">Montante: </label>
							<input class="form-control" name="montante" id="montante" #montante="ngModel"
								[(ngModel)]="objeto.montante" placeholder="00,00%" mask="separator.5"
								[dropSpecialCharacters]="false" thousandSeparator="." suffix="%"
								(keyup.arrowup)="objeto.montante = arrowUp(montante.value)" 
								(keyup.arrowdown)="objeto.montante = arrowDown(montante.value, true)"
								required popoverClass="popover-danger"
								[ngbPopover]="campoObrigatorio" triggers="mouseenter:mouseleave" >
                                <div *ngIf="montante.touched && montante.errors">
                                    <p *ngIf="montante.errors['required']" class="text-danger">Esse campo é obrigatório</p>
                                    <p *ngIf="montante.errors['mask']" class="text-danger">Valor inválido</p>
                                </div>
						</div>
					</div>
					<div class="d-flex justify-content-between col-lg-12 flex-wrap p-0">
						<ul *ngIf="erro">
							<li class="text-red" *ngFor="let err of erro">{{err}}</li>
						</ul>
						<div class="d-flex col-sm-12 ml-auto mt-3 px-0">
							<button type="submit" class="btn btn-primary ml-auto mr-0"
								[disabled]="form.invalid || loading">
								<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span> Salvar
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
<ng-template #setaUpDown> 
	<div class="py-3 px-4">
        Acione a seta para cima ou para baixo no teclado para mudar o valor
    </div>
</ng-template>

<ng-template #campoObrigatorio> 
	<div class="py-3 px-4">
        Esse campo é obrigatório
    </div>
</ng-template>